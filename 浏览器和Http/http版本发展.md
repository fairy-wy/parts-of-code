
### 前言

HTTP (全称为 “超文本传输协议”) 是一种应用非常广泛的应用层协议。HTTP 在传输层依赖 TCP 协议，TCP 是面向字节流的

**http方法**

* GET	===> 获取资源
* POST ===> 传输实体主体
* PUT	===> 传输文件
* HEAD  ===> 获得报文首部
* DELETE	===> 删除文件
* OPTIONS	===> 访问支持的方法
* TRACE  ===> 追踪路径
* CONNECT	===> 要求用隧道协议连接代理
* LINK  ===> 建立和资源之间的联系
* UNLINE  ===> 断开连接关系

**GET 和 POST 的区别**

GET 和 POST 其实没有本质区别，使用 GET 的场景完全可以使用 POST 代替，使用 POST 的场景一样可以使用 GET 代替。但是在具体的使用上，还是存在一些细节的区别：

* GET 习惯上会把客户端的数据通过 query string 来传输（body 部分是空的）；POST 习惯上会把客户端的数据通过 body 来传输（query string 部分是空的）

* GET 习惯上用于从服务器获取数据；POST 习惯上是客户端给服务器提交数据

* GET 请求可以被缓存，可以被浏览器保存到收藏夹中；POST 请求不能被缓存

**响应状态码**

1XX   ===>  Informational (信息性状态码，接受的请求正在处理)	
2XX	  ===>  Success (成功状态码)
3XX	  ===>  Redirection (重定向状态码)
4XX	  ===>  Client Error (客户端错误状态码)
5XX	  ===>  Server Error (服务器错误状态码)

### http版本

#### http 0.9

特点:

* 仅支持请求方式GET
* 仅能请求访问HTML格式的资源。无法传输其他类型的文件
* HTTP/0.9 的响应内容不包含HTTP头
* 没有状态码或错误代码

#### http 1.0

特点:

* 支持请求方式GET、POST、HEAD。
* 根据Content-Type可以支持多种数据格式的资源的传输
* 请求和响应每次通信的格式都必须包括头信息（HTTP header），用来描述一些元数据。
* 与服务器短连接，每次请求建立一个TCP链接，服务器响应后就会关闭这次连接
* 增加了状态码，缓存功能等

#### http 1.1

特点：

* 引入了持久连接（persistent connection），即TCP连接默认不关闭，可以被多个http请求复用
* 在HTTP1.0的基础上引入了更多的缓存控制策略。
* 新增了请求方式PUT、PATCH、OPTIONS、DELETE等。
* 加入了管道机制，在同一个TCP连接里，允许多个请求同时发送，增加了并发性，进一步改善了HTTP协议的效率,但是服务器还是按照请求顺序回复
* 客户端请求的头信息新增了Host字段，能够使不同域名配置在同一个IP地址的服务器上。
* 支持响应分块。只要请求或回应的头信息有Transfer-Encoding字段，就表明回应将由数量未定的数据块组成。
* 新增了24个错误状态响应码
* 优化了带宽（加入了一个新的状态码100（Continue）。客户端事先发送一个只带头域的请求，如果服务器因为权限拒绝了请求，就回送响应码          401（Unauthorized）；如果服务器接收此请求就回送响应码100，客户端就可以继续发送带实体的完整请求了）

#### http 2.0

特点：

* 二进制协议，HTTP/2 则是一个彻底的二进制协议，头信息和数据体都是二进制，并且统称为"帧"（frame）：头信息帧和数据帧。
* 增加全双工模式，多路复用（客户端能够同时发送多个请求，服务端也能同时处理多个请求，解决了队头堵塞的问题）
* 服务器可以主动推送信息给客户端s
* 引入了头信息压缩机制。headers在一系列请求中常常是相似的，移除了重复和传输重复数据的成本
* HTTP/2 将每个请求或回应的所有数据包，称为一个数据流（stream）。每个数据流都有一个独一无二的编号

#### http 3.0

HTTP3.0的核心是QUIC(Quick UDP Internet Connections)协议，传统的HTTP协议是基于传输层TCP的协议，而QUIC是基于传输层UDP上的协议，可以定义成:HTTP3.0基于UDP的安全可靠的HTTP2.0协议。

特点：

* 减少了TCP三次握手及TLS握手时间（UDP本身没有连接的概念，连接建立时只需要一次交互，半个握手的时间）
* 解决了http2.0多路复用丢包引起的队头阻塞问题（QUIC中一个连接上的多个stream之间没有依赖，当发生丢包时，只会影响当前的stream）
* 优化重传策略（基于tcp重传的和初始的用的相同的编号；QUIC初始与重传的每一个封包都改用一个新的编号）
* 连接迁移保持连接（基于TCP的协议，连接发生变化时，如果还使用原来的TCP连接，则会导致连接失败。而基于UDP的QUIC协议，使用一个64位的随机数作为Connection lD，只要Connection ID没有变化，那么连接依然可以维持。）

